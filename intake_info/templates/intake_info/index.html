{% load static %}
<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>配信情報取り込み画面</title>
    <!-- CSS only -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.css" rel="stylesheet" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="{% static 'intake_info/css/style.css' %}" />
</head>


<body>
    <div class="container">
        <h1>配信情報取込</h1>
        <!-- intake_info/templates/intake_info/index.html -->

        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <!-- プレースホルダー付きテキスト -->
            <input id="season_delivery_cnt" type="number" name="season_delivery_cnt" placeholder="シーズン配信件数を入力">

            <!-- ファイル選択ボタン -->
            <label for="csv-file" class="file-label">CSVファイルを選択</label>
            <input type="file" id="csv-file" name="csv_file" class="file-input" accept=".csv">
            <div id="file-name"></div>

            <!-- 登録ボタン -->
            <button id="submit-btn" type="submit" disabled>取込</button>
        </form>

        {% if success %}
        <p class="message">✅ 取込が完了しました！</p>
        {% endif %}
    </div>

    <script>
        const input = document.getElementById("season_delivery_cnt");
        const button = document.getElementById("submit-btn");

        input.addEventListener("input", () => {
            button.disabled = input.value.trim() === "";
        });
    </script>

</body>

</html>